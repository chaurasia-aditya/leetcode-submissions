{"id":1274855544,"question_id":3436,"lang":"java","lang_name":"Java","time":"3 weeks, 2 days","timestamp":1717300793,"status":10,"status_display":"Accepted","runtime":"1078 ms","url":"/submissions/detail/1274855544/","is_pending":"Not Pending","title":"Find Subarray With Bitwise OR Closest to K","memory":"55.8 MB","code":"class Solution {\n    private static int[] getSetBits(int x) {\n        List<Integer> bits = new ArrayList<>();\n        for (int i = 0; x > 0; i++) {\n            if ((x & 1) == 1) {\n                bits.add(i);\n            }\n            x >>= 1;\n        }\n        return bits.stream().mapToInt(i -> i).toArray();\n    }\n\n    private static int countsToBitwiseAnd(int windowLength, Map<Integer, Integer> bitCounts) {\n        int result = 0;\n        for (Map.Entry<Integer, Integer> entry : bitCounts.entrySet()) {\n            if (entry.getValue() == windowLength) {\n                result |= (1 << entry.getKey());\n            }\n        }\n        return result;\n    }\n    public int minimumDifference(int[] nums, int target) {\n        int cur = nums[0];\n        int n = nums.length;\n        int bestDiff = Math.abs(cur - target);\n\n        Map<Integer, Integer> bitCounts = new HashMap<>();\n        int[] setBits = getSetBits(nums[0]);\n        for (int bit : setBits) {\n            bitCounts.put(bit, 1);\n        }\n\n        int left = 0, right = 0;\n        while (right < n) {\n            if (cur > target || left > right) {\n                right++;\n                if (right >= nums.length) {\n                    break;\n                }\n                int[] newSetBits = getSetBits(nums[right]);\n                for (int bit : newSetBits) {\n                    bitCounts.put(bit, bitCounts.getOrDefault(bit, 0) + 1);\n                }\n            } else {\n                for (int bit : getSetBits(nums[left])) {\n                    bitCounts.put(bit, bitCounts.get(bit) - 1);\n                    if (bitCounts.get(bit) == 0) {\n                        bitCounts.remove(bit);\n                    }\n                }\n                left++;\n            }\n\n            cur = countsToBitwiseAnd(right - left + 1, bitCounts);\n\n            if (left <= right) {\n                bestDiff = Math.min(bestDiff, Math.abs(cur - target));\n            }\n        }\n\n        return bestDiff;\n    }\n}","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"find-subarray-with-bitwise-or-closest-to-k","has_notes":false,"flag_type":1}